<template>
    <div id='body'>
        <!--toasts提示组件-->
        <div class="boy">
            <p>
                欢迎注册成为汇保险会员，请您在注册前阅读本服务协议，勾选“我已经认真阅读并同意《汇保险注册协议》”，当您点击“同意”按钮即表示您确认本服务协议内容并自愿遵守本协议。
            </p>
            <h3>一、会员须知</h3>
            <h4>1. 注册者资格</h4>
            <p>
               您确认，在您完成注册程序或使用汇保险服务时，您应当是具备完全民事行为能力的自然人、法人或其他组织。若您不具备前述主体资格，则您及您的监护人应承担因此而导致的一切后果。
            </p>
            <p>
               您可以使用汇保险认可的第三方账户直接登录汇保险网站并自动成为汇保险会员，但在接受或购买汇保险产品或服务时，您可能需要提供法律法规要求的必要身份信息及资料。
            </p>
            <h4>2. 用户信息</h4>
            <p>
               a). 在完成注册、激活或验证流程时，您应当按照相应页面的提示提供您的身份信息及资料，以使之真实、及时、完整和准确；
            </p>
            <p>
               b). 当您的身份信息及资料发生变化时，您应当及时更新并准确提供您的身份信息及资料。
            </p>
            <h4>3. 隐私声明</h4>
            <p>
               a). 为了更好的为您提供服务，您同意汇保险有权获得、留存您的个人信息（包括但不限于：姓名、证件类型、证件号码、证件有效期限、手机号、邮箱、联系地址、第三方支付账户等），您授权汇保险在以下情况下有权公开、编辑或透露您的个人信息。
            </p>
            <p>
               （1）提供给在汇保险设置交易前台的保险机构；
            </p>
            <p>
               （2）依据有关法律规定或本公司合法服务程序规定的要求；
            </p>
            <p>
               （3）在紧急情况下，为维护汇保险用户及公众的权益；
            </p>
            <p>
               （4）为维护本公司知识产权及其他任何合法权益；
            </p>
            <p>
               （5）其他需要公开、编辑或透露个人信息的情况。
            </p>
            <p>
               b). 汇保险将基于合法、合理和诚实信用的法定原则妥善处理或使用您的个人信息并竭尽全力保护您的信息，但本公司对您的个人信息的安全性不做任何担保与承诺。
            </p>
            <h4>4. 账户安全</h4>
            <p>
               a). 您应对您在汇保险的登录名和密码保密，且须对您在该登录名和密码下发生的所有活动（包括但不限于发布信息、网上点击同意或提交购买、接受各类产品或服务等）承担责任。
            </p>
            <p>
               b). 您了解并同意： 如发现任何人未经授权使用您的汇保险登录名和密码，您应当立即通知汇保险，授权汇保险经过必要身份识别措施后更改密码或作出其他应对措施。但汇保险不会对因您未能遵守本款规定而发生的任何损失负责。
            </p>
            <p>
               5. 账户管理：除非有法律规定或司法裁判，否则您的登录名和密码不得以任何方式转让、赠与或继承。
            </p>
            <h3>二、会员的权利和义务</h3>
            <p>
               1. 在遵守本服务协议的前提下，您将享有本网站提供的会员服务，并将收到汇保险最新的优惠产品和服务的相关信息。
            </p>
            <p>
               2. 如您不愿意接受汇保险的信息，您有权要求汇保险停止向您发送产品和服务信息。
            </p>
            <p>
               3. 在汇保险网站上使用汇保险服务过程中，您承诺遵守以下约定：
            </p>
            <p>
               a). 在使用汇保险服务过程中所有行为均遵守国家法律、法规等规范性文件，不违背社会公共利益或公共道德，不损害他人合法权益，不违反本协议；
            </p>
            <p>
               b). 在未经汇保险事先书面同意的情况下，不以复制、传播等任何方式使用汇保险网站上展示的资料、信息或数据。
            </p>
            <p>4. 您了解并同意：</p>
            <p>
               a). 对于您在汇保险上发布的涉嫌违法或涉嫌侵犯他人合法权利或违反本协议的信息，汇保险有权不经通知您即予以删除；
            </p>
            <p>
               b). 对于您涉嫌违反承诺的行为对任意第三方造成损害的，您均应当以自己的名义独立承担所有的法律责任。
            </p>
            <h3>三、责任免除</h3>
            <p>
               1. 您了解并同意，汇保险不对因下述任一情况而导致您的任何损害承担责任：
            </p>
            <p>
               a). 使用或未能使用汇保险服务；
            </p>
            <p>
               b). 第三方未经批准使用您的账户或更改您的数据；
            </p>
            <p>
               c). 你接受或购买的汇保险的产品或服务条款或协议中约定的免责范围，以及约定的保险责任范围之外的损失。
            </p>
            <p>
               2. 在何种情况下，汇保险均不对由于信息网络正常的设备维护，信息网络连接故障，电脑、通讯或其他系统的故障，电力故障，罢工，暴乱，起义，骚乱，火灾，洪水，风暴，爆炸，战争，政府行为，司法行政机关的命令或第三方的不作为而造成的不能服务或延迟服务承担责任；
            </p>
            <p>
               3. 为了提高服务质量，汇保险可能暂停服务以调整或升级系统，汇保险需在网站公告暂停服务时间。在任何情况下，汇保险无须为暂停会员服务承担违约责责任。
            </p>
            <h3>四、服务协议的修改、中止、终止和账户注销</h3>
            <p>
               1. 您了解并同意：汇保险在法律环境变化或业务发展需要时可能对本服务协议所做的修改，本服务协议如发生任何变动，汇保险将在网站上公示变动内容，如您不同意相应修改的，可以选择注销您的汇保险会员账户。
            </p>
            <p>
               2. 您同意，出现以下情况时，汇保险有权不经事先通知地中止、终止向您提供部分或全部汇保险的会员服务，并注销您的账户（汇保险会员资格），且无须为此向您或任何第三方承担任何责任：
            </p>
            <p>
               a). 您在使用汇保险服务期间存在违法行为或违反本协议和/或规则的行为的；
            </p>
            <p>
               b). 您提供的个人身份信息虚假或不真实或不完整或过期无效的；
            </p>
            <p>
               c). 以他人名义注册为汇保险会员的；
            </p>
            <p>
               d). 未经有效许可使用他人银行账户进行支付的；
            </p>
            <p>
               e). 经证实用户为政府部门发布的恐怖分子或被列入其他黑名单；
            </p>
            <p>
               f). 存在其他违反诚实信用或欺诈行为的；
            </p>
            <p>
               g). 本协议变更时，您明示并通知汇保险不愿接受新的服务协议的；
            </p>
            <p>
               h). 其它汇保险认为应当终止服务的情况。
            </p>
            <p>
               3. 您的会员服务被中止、终止或者账户被注销后，汇保险仍有权继续保存您在汇保险服务期间的所有交易信息。
            </p>
            <p>
               4. 汇保险中止或终止向您提供汇保险服务或注销您的账户后，对于您在服务中止或终止之前接受或购买的汇保险的产品和服务，汇保险仍将按产品或服务所对应具体协议或约定履行。
            </p>
            <h3>五、法律适用、管辖与其他</h3>
            <p>
               1. 本协议适用中华人民共和国大陆地区法律。
            </p>
            <p>
               2. 如因本协议产生之争议，您同意以被告住所地人民法院为第一审管辖法院。
            </p>
            <p>
               3. 本协议包含了您成为汇保险会员所需要了解并遵守的协议条款，您在购买或接受汇保险某保险产品或服务时还需要了解并签署该特定产品或服务的条款或具体约定（请参见您接受该产品或服务时签署的其他协议）。如本服务协议与具体产品或服务协议有不一致之处，以具体产品或服务的协议为准。
            </p>
        </div>
        <toast :isshow='toast.isshow' @ontoastback='closetoast'>{{ toast.message}}</toast>
        <loading :isshow='loading'></loading>
    </div>
</template>
<script>
import {Common, valid, storage} from 'js/common'
import toast from '../../components/toast' // toast引用：
import loading from '../../components/loading';
import request from 'js/interface/request';
import weixinSDK from 'js/weixinSDK';
export default {
    components: {
        toast,
        loading
    },
    data () {
        return {
            toast: { // toast引用
                isshow: false,
                message: ''
            }
        }
    },
    created () {
    },
    mounted () {
        if (valid.isWeiXin()) {
            this.initWeixinSDK();
        }
    },
    computed: {
    },
    methods: {
        initWeixinSDK () {
            let obj = {
                url: window.location.href
            }
            request.getWXJsAPISignature(obj, (response) => {
                this.multiLogin(response);
                if (response.data.respCode === '000000') {
                    let output = response.data.output;
                    if (window.wx) {
                        // 微信配置
                        weixinSDK.config(window.wx, output);
                        weixinSDK.ready(window.wx, () => {
                            // 判断当前客户端版本是否支持指定JS接口
                            weixinSDK.checkJsApi(window.wx);
                            // 分享
                            weixinSDK.initShare(window.wx, 1);
                        });
                    }
                }
            }, () => {
                this.showtoast('网络错误，请查看网络是否连接', true);
            })
        },
        showtoast (msg, isshow) { // toast引用：3.显示
            this.toast.message = msg;
            this.toast.isshow = isshow;
        },
        closetoast () {
            this.toast.isshow = false;
        },
        showLayer (msg, options) {
            // layer引用：3.显示弹框
            this.layer.type = options.type;
            this.layer.message = msg;
            this.layer.isshow = true;
            this.layer.shadeClose = options.shadeClose;
            this.layer.btns = options.btns;
            this.layer.yes = options.yes;
            this.layer.no = options.no;
        },
        alertShow (value) { // alert实例
            this.showLayer(value, {
                type: 'alert', // 必填
                btns: ['我知道啦'], // 必填
                yes: () => { // 选填
                    storage.set('prevPage', './FQRegistProtocol.html');
                    window.location.href = './FQLogin.html';
                    return false;
                }
            })
        },
        closeLayer (type, shade) {
            // layer引用：4.回调函数
            if (type === 'cancel') {
                this.layer.no && this.layer.no();
            } else {
                this.layer.yes && this.layer.yes();
            }
        },
        // 多点登录
        multiLogin (response) {
            if (response.data.respCode === '100106') {
                this.loading = false;
                if (valid.isWeiXin()) {
                    weixinSDK.getAccessNone(window.location.href);
                } else {
                    this.alertShow(response.data.respMsg)
                }
                return false;
            } else if (response.data.respCode !== '000000') {
                this.showtoast(response.data.respMsg, true);
            }
        }
    }
}
</script>